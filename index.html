<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Gizem ❤️</title>

<style>

body{
margin:0;
background:#0b141a;
font-family:Segoe UI, Arial;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

#app{
width:360px;
height:640px;
background:#111b21;
display:flex;
flex-direction:column;
border-radius:10px;
overflow:hidden;
}

/* HEADER */

#header{
background:#202c33;
color:white;
padding:10px;
display:flex;
align-items:center;
}

#avatar{
width:40px;
height:40px;
border-radius:50%;
margin-right:10px;
}

#name{
font-weight:bold;
}

#status{
font-size:12px;
color:#8696a0;
}

/* CHAT */

#chat{
flex:1;
padding:10px;
overflow-y:auto;
background-image:url("https://i.imgur.com/3ZQ3Z6v.png");
background-size:cover;
display:flex;
flex-direction:column;
}

.msg{
max-width:75%;
padding:8px;
margin:4px;
border-radius:8px;
position:relative;
}

.user{
background:#005c4b;
color:white;
align-self:flex-end;
}

.bot{
background:#202c33;
color:white;
align-self:flex-start;
}

.time{
font-size:10px;
color:#8696a0;
text-align:right;
margin-top:2px;
}

/* INPUT */

#inputArea{
display:flex;
padding:10px;
background:#202c33;
}

#message{
flex:1;
padding:10px;
border-radius:20px;
border:none;
outline:none;
background:#2a3942;
color:white;
}

button{
margin-left:5px;
padding:10px 15px;
border:none;
border-radius:20px;
background:#00a884;
color:white;
cursor:pointer;
}

/* TYPING */

#typing{
font-size:12px;
color:#8696a0;
margin-left:50px;
display:none;
}

</style>

</head>
<body>

<div id="app">

<div id="header">
<img id="avatar" src="https://i.imgur.com/7k12EPD.png">
<div>
<div id="name">Gizem ❤️</div>
<div id="status">çevrimiçi</div>
</div>
</div>

<div id="typing">Gizem yazıyor...</div>

<div id="chat"></div>

<div id="inputArea">
<input id="message" placeholder="Mesaj yaz">
<button onclick="send()">➤</button>
</div>

</div>

<script>

const API_KEY="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";

let history=JSON.parse(localStorage.getItem("chat"))||[];

function getTime(){

let d=new Date();

let h=d.getHours().toString().padStart(2,"0");
let m=d.getMinutes().toString().padStart(2,"0");

return h+":"+m;

}

function addMessage(text,type){

let chat=document.getElementById("chat");

let div=document.createElement("div");

div.className="msg "+type;

div.innerHTML=text+`<div class="time">${getTime()}</div>`;

chat.appendChild(div);

chat.scrollTop=chat.scrollHeight;

}

history.forEach(m=>addMessage(m.text,m.type));

async function send(){

let input=document.getElementById("message");

let text=input.value;

if(!text)return;

addMessage(text,"user");

history.push({text:text,type:"user"});

localStorage.setItem("chat",JSON.stringify(history));

input.value="";

document.getElementById("typing").style.display="block";

const response=await fetch("https://openrouter.ai/api/v1/chat/completions",{

method:"POST",

headers:{
"Authorization":"Bearer "+API_KEY,
"Content-Type":"application/json"
},

body:JSON.stringify({

model:"openai/gpt-4o-mini",

messages:[

{
role:"system",
content:"Sen Gizem adında romantik, Türkçe konuşan sevgili karakterisin."
},

...history.map(m=>({
role:m.type==="user"?"user":"assistant",
content:m.text
})),

{
role:"user",
content:text
}

]

})

});

const data=await response.json();

document.getElementById("typing").style.display="none";

let reply=data.choices[0].message.content;

addMessage(reply,"bot");

history.push({text:reply,type:"bot"});

localStorage.setItem("chat",JSON.stringify(history));

}

</script>

</body>
</html>
